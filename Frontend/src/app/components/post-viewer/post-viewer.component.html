<div *ngIf="data; else invalidPost">
  <div *ngIf="simpleMode; else fullDetails">

    <div class="post card">
      <div class="card-header d-flex pb-0">        
        <div>
          <div class="info text-secondary">
            {{ getCategoryName() }} <img src="assets/games/s4/characters/stock/stock_90_pikachu_01.png"> &middot; 
            By {{ getAuthorName() }} &middot; {{ data.createdDate | date: "MMM d" }}
          </div>
          <h4 class="font-weight-bold mb-0">{{data.title}}</h4>
        </div>
      </div>
      
      <div class="card-body">
        <div>Preview of content?</div>

        <div class="row justify-content-center">
          <div class="col">
            <div class="ratingTool d-flex justify-content-center text-secondary" ngbTooltip="Not yet implemented" placement="top">
              <i class="material-icons">thumb_up</i>
              <div>22</div>
            </div>
          </div>

          <div class="col">
            <div class="ratingTool d-flex justify-content-center text-secondary" ngbTooltip="Not yet implemented" placement="top">
              <i class="material-icons">chat_bubble_outline</i>
              <div>1</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="card post-preview"> 
      <div class="card-header">
        <h4 class="card-title">{{data.title}}</h4>
      </div>
      <div class="card-body">
        <div *ngIf="data.featureUrl">
          Contains Link (Type: <i class="material-icons">play_circle_filled</i>)
        </div>
        <div>
          <i class="material-icons">category</i>
          <span>{{getCategoryName()}}</span>
        </div>
        <div *ngIf="data.characterIds">
          <i class="material-icons">videogame_asset</i>
          <span *ngFor="let charId of data.characterIds">
            {{getCharacterIcon(charId)}}
          </span>
        </div>
        <div *ngIf="isCombo()">
          At a glance combo info here
        </div>
        <div>
          <i class="material-icons">unfold_more</i>
          <span>{{data.rating}}</span>
        </div>
        <div>
          <i class="material-icons">visibility</i>
          <span>{{data.views}}</span>
        </div>
        <div>
          <i class="material-icons">edit</i>
          <span>{{getAuthorName()}}</span>
        </div>
      </div>
    </div> -->

  </div>
  
  <ng-template #fullDetails>
    <div *ngIf="isLoading; else showDetails">
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>

    <ng-template #showDetails>
      <div class="post card">
        <div class="card-header d-flex">
          <div class="ratingTool flex-column text-center text-secondary" ngbTooltip="Not yet implemented" placement="top-left">
            <i class="material-icons">thumb_up</i>
            <div>22</div>
          </div>
          
          <div>
            <div class="info text-secondary">
              {{ getCategoryName() }} <img src="assets/games/s4/characters/stock/stock_90_pikachu_01.png"> &middot; 
              By {{ getAuthorName() }} &middot; {{ data.createdDate | date }}
            </div>
            <h4 class="font-weight-bold mb-0">{{data.title}}</h4>
          </div>
        </div>
        
        <div class="card-body">
          <div *ngIf="data.featuredLink">
            <link-embed #linkEmbed></link-embed>
            <hr class="shortDivider">
          </div>

          <div *ngIf="data.content" [innerHtml]="data.content">
          </div>
        </div>
      </div>
      <div>{{ data | json }} </div>
      <hr>
      <app-comments></app-comments>
    </ng-template>
  </ng-template>
</div>

<ng-template #invalidPost>
  <p>No valid post given to component.</p>
</ng-template>